{"ast":null,"code":"const FixedFIFO = require('./fixed-size');\n\nmodule.exports = class FastFIFO {\n  constructor(hwm) {\n    this.hwm = hwm || 16;\n    this.head = new FixedFIFO(this.hwm);\n    this.tail = this.head;\n    this.length = 0;\n  }\n\n  push(val) {\n    this.length++;\n\n    if (!this.head.push(val)) {\n      const prev = this.head;\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length);\n      this.head.push(val);\n    }\n  }\n\n  shift() {\n    if (this.length !== 0) this.length--;\n    const val = this.tail.shift();\n\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next;\n      this.tail.next = null;\n      this.tail = next;\n      return this.tail.shift();\n    }\n\n    return val;\n  }\n\n  peek() {\n    return this.tail.peek();\n  }\n\n  isEmpty() {\n    return this.head.isEmpty();\n  }\n\n};","map":{"version":3,"sources":["C:/Users/Akshay Mishra/OneDrive/Desktop/twitter-clone-dapp/node_modules/fast-fifo/index.js"],"names":["FixedFIFO","require","module","exports","FastFIFO","constructor","hwm","head","tail","length","push","val","prev","next","buffer","shift","undefined","peek","isEmpty"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAMC,QAAN,CAAe;AAC9BC,EAAAA,WAAW,CAAEC,GAAF,EAAO;AAChB,SAAKA,GAAL,GAAWA,GAAG,IAAI,EAAlB;AACA,SAAKC,IAAL,GAAY,IAAIP,SAAJ,CAAc,KAAKM,GAAnB,CAAZ;AACA,SAAKE,IAAL,GAAY,KAAKD,IAAjB;AACA,SAAKE,MAAL,GAAc,CAAd;AACD;;AAEDC,EAAAA,IAAI,CAAEC,GAAF,EAAO;AACT,SAAKF,MAAL;;AACA,QAAI,CAAC,KAAKF,IAAL,CAAUG,IAAV,CAAeC,GAAf,CAAL,EAA0B;AACxB,YAAMC,IAAI,GAAG,KAAKL,IAAlB;AACA,WAAKA,IAAL,GAAYK,IAAI,CAACC,IAAL,GAAY,IAAIb,SAAJ,CAAc,IAAI,KAAKO,IAAL,CAAUO,MAAV,CAAiBL,MAAnC,CAAxB;AACA,WAAKF,IAAL,CAAUG,IAAV,CAAeC,GAAf;AACD;AACF;;AAEDI,EAAAA,KAAK,GAAI;AACP,QAAI,KAAKN,MAAL,KAAgB,CAApB,EAAuB,KAAKA,MAAL;AACvB,UAAME,GAAG,GAAG,KAAKH,IAAL,CAAUO,KAAV,EAAZ;;AACA,QAAIJ,GAAG,KAAKK,SAAR,IAAqB,KAAKR,IAAL,CAAUK,IAAnC,EAAyC;AACvC,YAAMA,IAAI,GAAG,KAAKL,IAAL,CAAUK,IAAvB;AACA,WAAKL,IAAL,CAAUK,IAAV,GAAiB,IAAjB;AACA,WAAKL,IAAL,GAAYK,IAAZ;AACA,aAAO,KAAKL,IAAL,CAAUO,KAAV,EAAP;AACD;;AAED,WAAOJ,GAAP;AACD;;AAEDM,EAAAA,IAAI,GAAI;AACN,WAAO,KAAKT,IAAL,CAAUS,IAAV,EAAP;AACD;;AAEDC,EAAAA,OAAO,GAAI;AACT,WAAO,KAAKX,IAAL,CAAUW,OAAV,EAAP;AACD;;AApC6B,CAAhC","sourcesContent":["const FixedFIFO = require('./fixed-size')\n\nmodule.exports = class FastFIFO {\n  constructor (hwm) {\n    this.hwm = hwm || 16\n    this.head = new FixedFIFO(this.hwm)\n    this.tail = this.head\n    this.length = 0\n  }\n\n  push (val) {\n    this.length++\n    if (!this.head.push(val)) {\n      const prev = this.head\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length)\n      this.head.push(val)\n    }\n  }\n\n  shift () {\n    if (this.length !== 0) this.length--\n    const val = this.tail.shift()\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next\n      this.tail.next = null\n      this.tail = next\n      return this.tail.shift()\n    }\n\n    return val\n  }\n\n  peek () {\n    return this.tail.peek()\n  }\n\n  isEmpty () {\n    return this.head.isEmpty()\n  }\n}\n"]},"metadata":{},"sourceType":"script"}